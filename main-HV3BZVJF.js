import{a as G,b as Z,d as $,f as q,k as J,o as K}from"./chunk-P4DUBFRK.js";import{B as N,C as h,D as x,G as _,J as d,L as o,M as r,N as I,O as C,P as u,Q as l,U as p,W as v,X as O,Y as F,Z as j,ga as A,ha as D,ia as P,k as V,l as g,la as L,ma as R,n as E,na as H,oa as W,p as c,pa as B,q as m,qa as z,ra as U,ua as T,z as a}from"./chunk-H5OOM7TY.js";var Q=[{path:"",loadChildren:()=>import("./chunk-EZZZJOIO.js").then(t=>t.PagesModule)},{path:"error",loadChildren:()=>import("./chunk-EQJN24XV.js").then(t=>t.ErrorModule)},{path:"**",redirectTo:"error/404",pathMatch:"full"}],b=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=x({type:t});static \u0275inj=g({imports:[T.forRoot(Q),T]})};var y=class t{constructor(n){this.http=n}apiUrl="https://portfolio-rbny.onrender.com/chat";sendMessage(n){return this.http.post(this.apiUrl,{message:n})}static \u0275fac=function(e){return new(e||t)(E(H))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};function ee(t,n){if(t&1){let e=C();o(0,"button",3),u("click",function(){c(e);let i=l();return m(i.toggleChat())}),p(1," \u{1F4AC} "),r()}}function te(t,n){if(t&1){let e=C();o(0,"button",17),u("click",function(){let i=c(e).$implicit,f=l(2);return m(f.sendPreMessage(i.content))}),p(1),r()}if(t&2){let e=n.$implicit;a(),v(" ",e.label," ")}}function ne(t,n){if(t&1&&(o(0,"div",18)(1,"div",19),p(2),r()()),t&2){let e=n.$implicit;d("ngClass",e.sender==="user"?"items-end":"items-start"),a(),d("ngClass",e.sender==="user"?"bg-red-600 text-white":"bg-gray-800 text-white"),a(),v(" ",e.text," ")}}function ie(t,n){t&1&&(o(0,"div",20),p(1,"Typing..."),r())}function oe(t,n){if(t&1){let e=C();o(0,"div",4)(1,"div",5)(2,"span"),p(3,"Portfolio Assistant"),r(),o(4,"button",6),u("click",function(){c(e);let i=l();return m(i.toggleChat())}),p(5," \u2716 "),r()(),o(6,"div",7),_(7,te,2,1,"button",8),r(),o(8,"div",9),_(9,ne,3,3,"div",10)(10,ie,2,0,"div",11),r(),o(11,"div",12)(12,"div",13)(13,"input",14),j("ngModelChange",function(i){c(e);let f=l();return F(f.userInput,i)||(f.userInput=i),m(i)}),u("keyup.enter",function(){c(e);let i=l();return m(i.sendMessage())})("input",function(){c(e);let i=l();return m(i.updateCharCount())}),r(),o(14,"button",15),u("click",function(){c(e);let i=l();return m(i.sendMessage())}),p(15," Send "),r()(),o(16,"div",16),p(17),r()()()}if(t&2){let e=l();a(7),d("ngForOf",e.preMessages),a(2),d("ngForOf",e.messages),a(),d("ngIf",e.loading),a(3),O("ngModel",e.userInput),a(4),v(" ",e.charCount,"/1000 characters ")}}var M=class t{constructor(n){this.chatService=n}userInput="";messages=[];loading=!1;charCount=0;isOpen=!1;preMessages=[{label:"Luise's Strengths",content:"Tell me about Luise's strengths."},{label:"Luise's Work History",content:"Tell me about Luise's work history."},{label:"Luise's Tech Stack",content:"Tell me about Luise's tech stack."}];toggleChat(){this.isOpen=!this.isOpen}updateCharCount(){this.charCount=this.userInput.length}sendMessage(){if(!this.userInput.trim())return;let n=this.userInput;this.messages.push({sender:"user",text:n}),this.userInput="",this.charCount=0,this.loading=!0,this.chatService.sendMessage(n).subscribe({next:e=>{let s=e.choices[0].message.content;this.messages.push({sender:"bot",text:s}),this.loading=!1},error:()=>{this.messages.push({sender:"bot",text:"Error connecting to server."}),this.loading=!1}})}sendPreMessage(n){this.messages.push({sender:"user",text:n}),this.loading=!0,this.chatService.sendMessage(n).subscribe({next:e=>{let s=e.choices[0].message.content;this.messages.push({sender:"bot",text:s}),this.loading=!1},error:()=>{this.messages.push({sender:"bot",text:"Error connecting to server."}),this.loading=!1}})}static \u0275fac=function(e){return new(e||t)(N(y))};static \u0275cmp=h({type:t,selectors:[["app-chat"]],standalone:!1,decls:3,vars:2,consts:[[1,"fixed","bottom-5","right-5","z-50"],["class","w-16 h-16 rounded-full bg-red-600 flex items-center justify-center shadow-lg text-white text-2xl hover:bg-red-700 transition-colors duration-300 focus:outline-none",3,"click",4,"ngIf"],["class","mt-2 w-[90vw] sm:w-96 max-w-xs bg-[#141414] text-white rounded-lg shadow-lg flex flex-col transform scale-95 opacity-0 animate-open-chat",4,"ngIf"],[1,"w-16","h-16","rounded-full","bg-red-600","flex","items-center","justify-center","shadow-lg","text-white","text-2xl","hover:bg-red-700","transition-colors","duration-300","focus:outline-none",3,"click"],[1,"mt-2","w-[90vw]","sm:w-96","max-w-xs","bg-[#141414]","text-white","rounded-lg","shadow-lg","flex","flex-col","transform","scale-95","opacity-0","animate-open-chat"],[1,"p-3","bg-[#1c1c1c]","font-semibold","text-center","rounded-t-lg","flex","justify-between","items-center"],[1,"text-white","text-sm","px-2","hover:text-gray-400","flex-shrink-0",3,"click"],[1,"p-2","flex","flex-wrap","gap-2","bg-[#1c1c1c]"],["class","bg-red-600 text-white px-3 py-1 rounded-full text-sm hover:bg-red-700 transition-colors duration-200",3,"click",4,"ngFor","ngForOf"],[1,"flex-1","p-3","overflow-y-auto","space-y-2","max-h-80"],["class","flex flex-col",3,"ngClass",4,"ngFor","ngForOf"],["class","text-gray-400 text-sm",4,"ngIf"],[1,"p-2","flex","flex-col","gap-1"],[1,"flex","gap-2"],["maxlength","1000","placeholder","Ask About Me...",1,"flex-1","min-w-0","p-2","rounded","bg-gray-900","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-red-600",3,"ngModelChange","keyup.enter","input","ngModel"],[1,"bg-red-600","px-4","py-2","rounded","text-white","hover:bg-red-700","transition-colors","duration-300","flex-shrink-0",3,"click"],[1,"text-xs","text-gray-400","text-right"],[1,"bg-red-600","text-white","px-3","py-1","rounded-full","text-sm","hover:bg-red-700","transition-colors","duration-200",3,"click"],[1,"flex","flex-col",3,"ngClass"],[1,"px-3","py-2","rounded-lg","max-w-[85%]","mb-2","break-words","whitespace-pre-wrap","w-fit",3,"ngClass"],[1,"text-gray-400","text-sm"]],template:function(e,s){e&1&&(o(0,"div",0),_(1,ee,2,0,"button",1)(2,oe,18,5,"div",2),r()),e&2&&(a(),d("ngIf",!s.isOpen),a(),d("ngIf",s.isOpen))},dependencies:[A,D,P,Z,$,J,q],styles:["@keyframes _ngcontent-%COMP%_open-chat{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}.animate-open-chat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_open-chat .3s ease-out forwards}"]})};var k=class t{title="GiiFlix";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],standalone:!1,decls:4,vars:0,consts:[[1,"fixed","w-full","z-99"],[1,"flex","w-full","flex-col","bg-black"],[1,"w-full"]],template:function(e,s){e&1&&(I(0,"app-topnav",0),o(1,"div",1),I(2,"router-outlet",2)(3,"app-chat"),r())},dependencies:[U,G,M],encapsulation:2})};var S=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=x({type:t,bootstrap:[k]});static \u0275inj=g({providers:[z(B())],imports:[R,b,W,K]})};L().bootstrapModule(S,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
